---
import BaseHead from "../components/BaseHead.astro";
import MainHeader from "../components/MainHeader.astro";
import SimpleFooter from "../components/SimpleFooter.astro";

export interface Props {
	content: {
		title: string;
		description: string;
		pubDate: string;
		enableMath?: boolean;
	};
}

const {
	content: { title, description, pubDate, enableMath },
} = Astro.props as Props;

const publishDate = pubDate ?? Astro.url.pathname.split('/').slice(2, 5).join('/')
const canonicalURL = new URL(Astro.url.pathname, Astro.site);
---

<html lang="en">

<head>
	<BaseHead title={title} description={description} enableMath={enableMath} canonical={canonicalURL} />
</head>

<body>
	<MainHeader />
	<div class="wrapper">
		<main>
			<article>
				<h1 class="section-title">{title}</h1>
				<time>{publishDate}</time>
				<div class="article-content"><slot /></div>
			</article>
		</main>
	</div>
	<!--Use wrapper... -->
	<SimpleFooter />
</body>

</html>
